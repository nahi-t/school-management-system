{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"../../services/mark.service\";\nimport * as i3 from \"@angular/common\";\nfunction StudentDashboardComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵelement(1, \"mat-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StudentDashboardComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"p\");\n    i0.ɵɵtext(2, \"No marks available yet. Your grades will appear here once teachers assign them.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction StudentDashboardComponent_div_35_mat_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 16)(1, \"mat-card-content\")(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 17);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 18)(7, \"span\", 19);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\", 20);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const mark_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(mark_r4.subject.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", mark_r4.grade.name, \" - \", mark_r4.term, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r3.getGradeClass(mark_r4.marks));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", mark_r4.marks, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.getGradeClass(mark_r4.marks).replace(\"grade-\", \"\").toUpperCase());\n  }\n}\nfunction StudentDashboardComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtemplate(1, StudentDashboardComponent_div_35_mat_card_1_Template, 11, 6, \"mat-card\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.marks);\n  }\n}\nexport let StudentDashboardComponent = /*#__PURE__*/(() => {\n  class StudentDashboardComponent {\n    constructor(authService, markService) {\n      this.authService = authService;\n      this.markService = markService;\n      this.marks = [];\n      this.isLoading = false;\n    }\n    ngOnInit() {\n      this.currentUser = this.authService.currentUserValue;\n      this.loadMyMarks();\n    }\n    loadMyMarks() {\n      this.isLoading = true;\n      this.markService.getAllMarks().subscribe({\n        next: marks => {\n          this.marks = marks;\n          this.isLoading = false;\n        },\n        error: error => {\n          this.isLoading = false;\n          console.error('Failed to load marks:', error);\n        }\n      });\n    }\n    getAverageMarks() {\n      if (this.marks.length === 0) return 0;\n      const total = this.marks.reduce((sum, mark) => sum + mark.marks, 0);\n      return Math.round(total / this.marks.length);\n    }\n    getGradeClass(marks) {\n      if (marks >= 85) return 'grade-excellent';\n      if (marks >= 70) return 'grade-good';\n      if (marks >= 50) return 'grade-average';\n      return 'grade-poor';\n    }\n    static {\n      this.ɵfac = function StudentDashboardComponent_Factory(t) {\n        return new (t || StudentDashboardComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.MarkService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: StudentDashboardComponent,\n        selectors: [[\"app-student-dashboard\"]],\n        decls: 36,\n        vars: 6,\n        consts: [[1, \"student-dashboard\"], [1, \"dashboard-header\"], [1, \"summary-section\"], [1, \"summary-card\"], [1, \"summary-stats\"], [1, \"stat-item\"], [1, \"stat-label\"], [1, \"stat-value\"], [1, \"marks-section\"], [\"class\", \"loading-container\", 4, \"ngIf\"], [\"class\", \"no-data\", 4, \"ngIf\"], [\"class\", \"marks-grid\", 4, \"ngIf\"], [1, \"loading-container\"], [1, \"no-data\"], [1, \"marks-grid\"], [\"class\", \"mark-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"mark-card\"], [1, \"subject-info\"], [1, \"mark-display\"], [1, \"mark-value\", 3, \"ngClass\"], [1, \"mark-grade\"]],\n        template: function StudentDashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n            i0.ɵɵtext(3, \"Student Dashboard\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"p\");\n            i0.ɵɵtext(5);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"div\", 2)(7, \"mat-card\", 3)(8, \"mat-card-header\")(9, \"mat-card-title\")(10, \"mat-icon\");\n            i0.ɵɵtext(11, \"assessment\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(12, \" Academic Summary \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(13, \"mat-card-content\")(14, \"div\", 4)(15, \"div\", 5)(16, \"span\", 6);\n            i0.ɵɵtext(17, \"Average Marks:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"span\", 7);\n            i0.ɵɵtext(19);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(20, \"div\", 5)(21, \"span\", 6);\n            i0.ɵɵtext(22, \"Total Subjects:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"span\", 7);\n            i0.ɵɵtext(24);\n            i0.ɵɵelementEnd()()()()()();\n            i0.ɵɵelementStart(25, \"div\", 8)(26, \"mat-card\")(27, \"mat-card-header\")(28, \"mat-card-title\");\n            i0.ɵɵtext(29, \"My Grades\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(30, \"mat-card-subtitle\");\n            i0.ɵɵtext(31, \"View your marks for all subjects\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(32, \"mat-card-content\");\n            i0.ɵɵtemplate(33, StudentDashboardComponent_div_33_Template, 2, 0, \"div\", 9);\n            i0.ɵɵtemplate(34, StudentDashboardComponent_div_34_Template, 3, 0, \"div\", 10);\n            i0.ɵɵtemplate(35, StudentDashboardComponent_div_35_Template, 2, 1, \"div\", 11);\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate1(\"Welcome, \", ctx.currentUser == null ? null : ctx.currentUser.name, \"! View your grades and academic progress.\");\n            i0.ɵɵadvance(14);\n            i0.ɵɵtextInterpolate(ctx.getAverageMarks());\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate(ctx.marks.length);\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.marks.length === 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.marks.length > 0);\n          }\n        },\n        dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf],\n        styles: [\".student-dashboard[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.dashboard-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#388e3c;margin-bottom:8px}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.summary-section[_ngcontent-%COMP%]{margin-bottom:32px}.summary-card[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.summary-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:20px 0}.stat-item[_ngcontent-%COMP%]{text-align:center}.stat-label[_ngcontent-%COMP%]{display:block;color:#666;font-size:14px;margin-bottom:8px}.stat-value[_ngcontent-%COMP%]{display:block;font-size:24px;font-weight:700;color:#388e3c}.marks-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#388e3c;margin-bottom:16px}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px}.no-data[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.marks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;margin-top:20px}.mark-card[_ngcontent-%COMP%]{text-align:center;transition:transform .2s ease-in-out}.mark-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.mark-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:8px}.subject-info[_ngcontent-%COMP%]{color:#666;font-size:14px;margin-bottom:16px}.mark-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.mark-value[_ngcontent-%COMP%]{font-size:36px;font-weight:700;padding:8px 16px;border-radius:8px}.grade-excellent[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#388e3c}.grade-good[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.grade-average[_ngcontent-%COMP%]{background-color:#fff3e0;color:#f57c00}.grade-poor[_ngcontent-%COMP%]{background-color:#ffebee;color:#d32f2f}.mark-grade[_ngcontent-%COMP%]{font-size:12px;font-weight:500;text-transform:uppercase;color:#666}\"]\n      });\n    }\n  }\n  return StudentDashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}